import{a as v,b as d,c as O,d as x,f as N,g as E,h as F,i as S,j as I,k,l as A}from"./chunk-YOXO25BK.js";import{U as y}from"./chunk-HRFT26DT.js";import{$ as g,Va as b,Y as n,Ya as w,ba as C,ja as l,la as c,oa as _,pa as a,qa as o,ra as u,ta as M,ua as m,wa as f,xa as s,ya as p}from"./chunk-Q5M72QWD.js";function R(t,i){if(t&1&&(a(0,"p",7),s(1),o()),t&2){let e=m();n(),p(e.displayNameErrorMessage)}}function T(t,i){if(t&1&&(a(0,"p",7),s(1),o()),t&2){let e=m();n(),p(e.emailErrorMessage)}}function Y(t,i){if(t&1&&(a(0,"p",7),s(1),o()),t&2){let e=m();n(),p(e.passwordErrorMessage)}}function q(t,i){if(t&1&&(a(0,"p",7),s(1),o()),t&2){let e=m();n(),p(e.rePasswordErrorMessage)}}function z(t,i){if(t&1&&(a(0,"p",15),s(1),o()),t&2){let e=m();n(),p(e.passwordsMismatchErrorMessage)}}function D(t,i){if(t&1&&(a(0,"div",16)(1,"p",7),s(2),o()()),t&2){let e=m();n(2),p(e.error)}}var V=class t{constructor(i,e,r,h){this.authService=i;this.router=e;this.formBuilder=r;this.title=h;this.registerForm=this.formBuilder.group({displayName:["",[d.required,d.minLength(5)]],email:["",[d.required,d.pattern(/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/)]],passwords:this.formBuilder.group({password:["",[d.required,d.minLength(6),d.pattern(/^[a-zA-Z0-9]+$/)]],rePassword:["",[d.required,d.minLength(6),d.pattern(/^[a-zA-Z0-9]+$/)]]},{validators:this.passwordMatchValidator})})}firebaseErrorMessages={"auth/email-already-in-use":"An account with this email already exists.","auth/invalid-email":"Please enter a valid email address.","auth/weak-password":"Password should be at least 6 characters."};registerForm;error=null;ngOnInit(){this.title.setTitle("Register")}get displayName(){return this.registerForm.get("displayName")}get email(){return this.registerForm.get("email")}get passwords(){return this.registerForm.get("passwords")}get password(){return this.passwords.get("password")}get rePassword(){return this.passwords.get("rePassword")}get isDisplayNameNotValid(){return this.displayName?.invalid&&(this.displayName?.dirty||this.displayName?.touched)||!1}get isEmailNotValid(){return this.email?.invalid&&(this.email?.dirty||this.email?.touched)||!1}get isPasswordsNotValid(){return this.passwords?.invalid&&(this.passwords?.dirty||this.passwords?.touched)||!1}get isPasswordsMismatch(){let i=this.passwords.errors?.passwordMismatch,e=this.rePassword?.dirty||this.rePassword?.touched;return!!(i&&e)}get displayNameErrorMessage(){return this.displayName?.errors?.required?"Display Name is required!":this.displayName?.errors?.minlength?"Minimum of 5 characters!":""}get emailErrorMessage(){return this.email?.errors?.required?"Email is required":this.email?.errors?.pattern?"Email is not valid":""}get passwordErrorMessage(){return this.password?.errors?.required?"Password is required":this.password?.errors?.minlength?"Password must be at least 6 characters!":this.password?.errors?.pattern?"Password must contain only Latin letters and numbers (no spaces or special characters).":""}get rePasswordErrorMessage(){return this.rePassword?.errors?.required?"You must confirm your password!":this.rePassword?.errors?.minlength?"Password must be at least 6 characters!":this.rePassword?.errors?.pattern?"Password must contain only Latin letters and numbers (no spaces or special characters).":""}get passwordsMismatchErrorMessage(){return"Passwords do not match!"}onSubmit(){if(this.registerForm.invalid){this.registerForm.markAllAsTouched();return}let{displayName:i,email:e,passwords:r}=this.registerForm.value,h=r.password;this.authService.register$(i,e,h).subscribe({next:()=>{this.router.navigate(["/"])},error:P=>{this.error=P.message??"Failed to register",console.error(this.error),this.error=this.firebaseErrorMessages[P.code]||"Failed to register!",this.passwords.reset()}})}passwordMatchValidator(i){let e=i.get("password"),r=i.get("rePassword");return e&&r&&e.value!==r.value?{passwordMismatch:!0}:null}static \u0275fac=function(e){return new(e||t)(g(y),g(w),g(I),g(b))};static \u0275cmp=C({type:t,selectors:[["app-register"]],decls:35,vars:16,consts:[[1,"card","outer-container","form-card"],[1,"inner-container"],[1,"form-title"],[1,"form-grid",3,"ngSubmit","formGroup"],[1,"field"],["for","displayName"],["id","displayName","formControlName","displayName",1,"control"],[1,"error"],["for","email"],["id","email","formControlName","email","type","email",1,"control"],["formGroupName","passwords",1,"row-2"],["for","password"],["id","password","formControlName","password","type","password","placeholder","******",1,"control"],["for","rePassword"],["id","rePassword","formControlName","rePassword","type","password","placeholder","******",1,"control"],[1,"error","span-2"],[1,"form-row"],[1,"actions"],["type","submit",1,"btn-primary",3,"disabled"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"h4",2),s(3,"Registration"),o(),a(4,"form",3),M("ngSubmit",function(){return r.onSubmit()}),a(5,"div",4)(6,"label",5),s(7,"Display Name"),o(),u(8,"br")(9,"input",6),l(10,R,2,1,"p",7),o(),a(11,"div",4)(12,"label",8),s(13,"Email"),o(),u(14,"br")(15,"input",9),l(16,T,2,1,"p",7),o(),a(17,"div",10)(18,"div",4)(19,"label",11),s(20,"Password"),o(),u(21,"br")(22,"input",12),l(23,Y,2,1,"p",7),o(),a(24,"div",4)(25,"label",13),s(26,"Confirm Password"),o(),u(27,"br")(28,"input",14),l(29,q,2,1,"p",7),o(),l(30,z,2,1,"p",15),o(),l(31,D,3,1,"div",16),a(32,"div",17)(33,"button",18),s(34," Create Account "),o()()()()()),e&2&&(n(4),_("formGroup",r.registerForm),n(5),f("input-error",r.isDisplayNameNotValid),n(),c(r.isDisplayNameNotValid?10:-1),n(5),f("input-error",r.isEmailNotValid),n(),c(r.isEmailNotValid?16:-1),n(6),f("input-error",r.isPasswordsNotValid),n(),c(r.isPasswordsNotValid?23:-1),n(5),f("input-error",r.isPasswordsNotValid||r.isPasswordsMismatch),n(),c(r.isPasswordsNotValid?29:-1),n(),c(r.isPasswordsMismatch?30:-1),n(),c(r.error?31:-1),n(2),_("disabled",r.registerForm.invalid))},dependencies:[A,N,v,O,x,E,S,F,k],styles:['[_ngcontent-%COMP%]:root{--bg-card:#0d1117;--bg-elev:#161b22;--border:#30363d;--text:#c9d1d9;--muted:#8b949e;--accent:#58a6ff;--danger:#f85149;--success:#238636;--success-2:#2ea043}[_nghost-%COMP%]{display:block;animation:_ngcontent-%COMP%_pageIn .35s ease-out both;will-change:opacity,transform}.outer-container[_ngcontent-%COMP%]{margin:0 auto;max-width:min(760px,96vw);padding:2rem 1rem 3rem;display:flex;justify-content:center}.form-card[_ngcontent-%COMP%]{width:100%;background:var(--bg-card);box-shadow:0 12px 32px #00000059;animation:_ngcontent-%COMP%_cardIn .38s ease-out .04s both}.inner-container[_ngcontent-%COMP%]{padding:1.25rem}.form-title[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:clamp(1.2rem,.8vw + 1rem,1.6rem);font-weight:700;letter-spacing:.2px;line-height:1.15;color:transparent;background:linear-gradient(180deg,#e8f1ff,#b6d8ff 65%,#7fb6ff);-webkit-background-clip:text;background-clip:text;animation:_ngcontent-%COMP%_titleUp .42s ease-out both;position:relative}.form-title[_ngcontent-%COMP%]:after{content:"";display:block;height:2px;width:72px;margin-top:.5rem;background:linear-gradient(90deg,var(--accent),transparent);border-radius:2px}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}.row-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;grid-column:1 / -1}.span-2[_ngcontent-%COMP%]{grid-column:1 / -1}.form-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .row-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:0;transform:translateY(8px);animation:_ngcontent-%COMP%_fieldIn .42s ease-out both}.form-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(1){animation-delay:.06s}.form-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s}.form-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(3){animation-delay:.14s}.form-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(4){animation-delay:.18s}.row-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(1){animation-delay:.12s}.row-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(2){animation-delay:.16s}label[_ngcontent-%COMP%]{color:var(--text);font-size:.9rem}.control[_ngcontent-%COMP%]{background:var(--bg-elev);color:var(--text);border:1px solid var(--border);border-radius:10px;padding:.65rem .75rem;outline:none;transition:border-color .42s cubic-bezier(.22,.61,.36,1),box-shadow .42s cubic-bezier(.22,.61,.36,1),background-color .42s ease}.control[_ngcontent-%COMP%]::placeholder{color:var(--muted)}.control[_ngcontent-%COMP%]:focus{border-color:var(--accent);box-shadow:0 0 0 3px #58a6ff26}.control.input-error[_ngcontent-%COMP%], .input-error[_ngcontent-%COMP%]{border-color:var(--danger, #f85149)!important;box-shadow:0 0 0 3px #f8514926!important;animation:_ngcontent-%COMP%_fieldErrorPulse .9s ease-out .12s 1}.control.input-error[_ngcontent-%COMP%]:focus{border-color:var(--danger, #f85149)!important;box-shadow:0 0 0 3px #f8514926!important}.form-card[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   p.error[_ngcontent-%COMP%], .form-card[_ngcontent-%COMP%]   .row-2[_ngcontent-%COMP%]   p.error[_ngcontent-%COMP%], .form-grid[_ngcontent-%COMP%]   p.error[_ngcontent-%COMP%]{margin:.25rem 0 0;color:var(--danger, #f85149);font-weight:600;font-style:normal;font-size:.85rem;animation:_ngcontent-%COMP%_errorIn .36s cubic-bezier(.22,.61,.36,1) both}.form-card[_ngcontent-%COMP%]   .span-2.error[_ngcontent-%COMP%]{color:var(--danger, #f85149);font-style:normal}.actions[_ngcontent-%COMP%]{grid-column:1 / -1;display:flex;justify-content:flex-end;margin-top:.25rem;opacity:0;transform:translateY(8px);animation:_ngcontent-%COMP%_fieldIn .42s ease-out .22s both}.btn-primary[_ngcontent-%COMP%]{background:var(--success);border:1px solid var(--success-2);color:#fff;border-radius:10px;padding:.6rem 1rem;font-weight:600;transition:background .15s,border-color .15s,transform .05s}.btn-primary[_ngcontent-%COMP%]:hover:enabled{background:var(--success-2);border-color:#3fb950}.btn-primary[_ngcontent-%COMP%]:active:enabled{transform:translateY(1px)}.btn-primary[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}@media (max-width: 720px){.form-grid[_ngcontent-%COMP%], .row-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}@keyframes _ngcontent-%COMP%_pageIn{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_cardIn{0%{opacity:0;transform:translateY(8px) scale(.99);filter:saturate(.95)}to{opacity:1;transform:translateY(0) scale(1);filter:saturate(1)}}@keyframes _ngcontent-%COMP%_titleUp{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fieldIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_errorIn{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fieldErrorPulse{0%{box-shadow:0 0 #f8514942}to{box-shadow:0 0 0 10px #f8514900}}@media (prefers-reduced-motion: reduce){[_nghost-%COMP%], .form-card[_ngcontent-%COMP%], .form-title[_ngcontent-%COMP%], .form-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .row-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%], .form-card[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   p.error[_ngcontent-%COMP%], .form-card[_ngcontent-%COMP%]   .row-2[_ngcontent-%COMP%]   p.error[_ngcontent-%COMP%], .form-grid[_ngcontent-%COMP%]   p.error[_ngcontent-%COMP%]{animation:none!important;transform:none!important;opacity:1!important}}']})};export{V as Register};
