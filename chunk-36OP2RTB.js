import{D as p,G as a,I as D,J as b,K as r,M as c,N as s,O as u,Q as $,R as m,S as v,T as g}from"./chunk-HRFT26DT.js";import{B as h,a as d,o as n,q as o,y as f}from"./chunk-Q5M72QWD.js";var k=class l{constructor(e){this.firestore=e}destinationsCollectionPath="destinations";getDestinations(){let e=r(this.firestore,this.destinationsCollectionPath);return a(e,{idField:"id"})}getDestinationById(e){let t=s(this.firestore,`${this.destinationsCollectionPath}/${e}`);return D(t,{idField:"id"})}addDestination(e){let t=r(this.firestore,this.destinationsCollectionPath);return n(b(t,e)).pipe(o(i=>d({id:i.id},e)))}updateDescription$(e,t){let i=s(this.firestore,`destinations/${e}`);return n(v(i,{description:t})).pipe(o(()=>{}))}deleteDestination$(e){let t=s(this.firestore,`destinations/${e}`);return n(c(t)).pipe(o(()=>{}))}hasLiked$(e,t){let i=r(this.firestore,`${this.destinationsCollectionPath}/${e}/likes`),C=$(i,g(u(),"==",t));return a(C).pipe(o(O=>O.length>0))}likesCount$(e){let t=r(this.firestore,`${this.destinationsCollectionPath}/${e}/likes`);return a(t).pipe(o(i=>i.length))}like$(e,t){let i=s(this.firestore,`${this.destinationsCollectionPath}/${e}/likes/${t}`);return n(m(i,{uid:t,liked:!0}))}unlike$(e,t){let i=s(this.firestore,`${this.destinationsCollectionPath}/${e}/likes/${t}`);return n(c(i))}static \u0275fac=function(t){return new(t||l)(h(p))};static \u0275prov=f({token:l,factory:l.\u0275fac,providedIn:"root"})};export{k as a};
