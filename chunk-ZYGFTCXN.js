import{a as x,b as l,c as y,d as M,f as w,g as O,i as E,j as k,l as I}from"./chunk-F55LJCLU.js";import{U as v}from"./chunk-7MOMSB6F.js";import{Ua as C,X as r,Xa as P,_ as c,aa as b,ia as d,ka as m,na as g,oa as i,pa as o,qa as f,sa as _,ta as p,va as h,wa as a,xa as u}from"./chunk-6BN2QRS5.js";function N(n,s){if(n&1&&(i(0,"p",7),a(1),o()),n&2){let t=p();r(),u(t.emailErrorMessage)}}function L(n,s){if(n&1&&(i(0,"p",7),a(1),o()),n&2){let t=p();r(),u(t.passwordErrorMessage)}}function A(n,s){if(n&1&&(i(0,"div",4)(1,"p",7),a(2),o()()),n&2){let t=p();r(2),u(t.error)}}var S=class n{constructor(s,t,e,F){this.authService=s;this.router=t;this.formBuilder=e;this.title=F;this.loginForm=this.formBuilder.group({email:["",[l.required,l.pattern(/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/)]],password:["",[l.required,l.minLength(6),l.pattern(/^[a-zA-Z0-9]+$/)]]})}loginForm;error=null;firebaseErrorMessages={"auth/invalid-email":"Please enter a valid email address.","auth/invalid-credential":"Incorrect email or password. Please try again.","auth/too-many-requests":"Too many failed attempts. Please try again later."};ngOnInit(){this.title.setTitle("Login")}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}get isEmailNotValid(){return this.email?.invalid&&(this.email?.dirty||this.email?.touched)||!1}get isPasswordNotValid(){return this.password?.invalid&&(this.password?.dirty||this.password?.touched)||!1}get emailErrorMessage(){return this.email?.errors?.required?"Email is required":this.email?.errors?.pattern?"Email is not valid":""}get passwordErrorMessage(){return this.password?.errors?.required?"Password is required":this.password?.errors?.minlength?"Password must be at least 6 characters!":this.password?.errors?.pattern?"Password must contain only Latin letters and numbers (no spaces or special characters).!":""}onSubmit(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}let{email:s,password:t}=this.loginForm.value;this.authService.login$(s,t).subscribe({next:()=>{this.router.navigate(["/"])},error:e=>{this.error=e.message??"Login failed",console.error(this.error),this.error=this.firebaseErrorMessages[e.code]||"Login failed. Please try again.",this.password?.reset()}})}static \u0275fac=function(t){return new(t||n)(c(v),c(P),c(k),c(C))};static \u0275cmp=b({type:n,selectors:[["app-login"]],decls:18,vars:9,consts:[[1,"card","outer-container","auth-card"],[1,"inner-container"],[1,"auth-title"],[1,"form-stack",3,"ngSubmit","formGroup"],[1,"form-row"],["for","email"],["id","email","type","email","formControlName","email","placeholder","you@example.com"],[1,"error"],["for","password"],["id","password","type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"],["type","submit",1,"btn-accent",3,"disabled"]],template:function(t,e){t&1&&(i(0,"div",0)(1,"div",1)(2,"h4",2),a(3,"Login"),o(),i(4,"form",3),_("ngSubmit",function(){return e.onSubmit()}),i(5,"div",4)(6,"label",5),a(7,"Email"),o(),f(8,"input",6),d(9,N,2,1,"p",7),o(),i(10,"div",4)(11,"label",8),a(12,"Password"),o(),f(13,"input",9),d(14,L,2,1,"p",7),o(),d(15,A,3,1,"div",4),i(16,"button",10),a(17," Login "),o()()()()),t&2&&(r(4),g("formGroup",e.loginForm),r(4),h("input-error",e.isEmailNotValid),r(),m(e.isEmailNotValid?9:-1),r(4),h("input-error",e.isPasswordNotValid),r(),m(e.isPasswordNotValid?14:-1),r(),m(e.error?15:-1),r(),g("disabled",e.loginForm.invalid))},dependencies:[I,w,x,y,M,O,E],styles:['[_ngcontent-%COMP%]:root{--bg-card:#0d1117;--bg-elev:#161b22;--border:#30363d;--text:#c9d1d9;--muted:#8b949e;--accent:#58a6ff;--accent-2:#7cc4ff}[_nghost-%COMP%]{display:block;animation:_ngcontent-%COMP%_pageIn .35s ease-out both;will-change:opacity,transform}.outer-container[_ngcontent-%COMP%]{margin:0 auto;max-width:min(520px,94vw);padding:2rem 1rem 3rem;display:flex;justify-content:center}.auth-card[_ngcontent-%COMP%]{width:100%;background:var(--bg-card);box-shadow:0 12px 32px #00000059;animation:_ngcontent-%COMP%_cardIn .38s ease-out .04s both}.inner-container[_ngcontent-%COMP%]{padding:1.5rem}.inner-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-bottom:0}.auth-title[_ngcontent-%COMP%]{margin:0 0 1.25rem;font-size:clamp(1.1rem,.8vw + 1rem,1.6rem);font-weight:700;letter-spacing:.2px;line-height:1.15;color:transparent;background:linear-gradient(180deg,#e8f1ff,#b6d8ff 65%,#7fb6ff);-webkit-background-clip:text;background-clip:text;position:relative;animation:_ngcontent-%COMP%_titleUp .42s ease-out both}.auth-title[_ngcontent-%COMP%]:after{content:"";display:block;height:2px;width:72px;margin-top:.5rem;background:linear-gradient(90deg,var(--accent),transparent);border-radius:2px}.form-stack[_ngcontent-%COMP%]{display:grid;gap:1rem}.form-row[_ngcontent-%COMP%]{display:grid;gap:.5rem;opacity:0;transform:translateY(8px);animation:_ngcontent-%COMP%_fieldIn .42s ease-out both}.form-row[_ngcontent-%COMP%]:nth-of-type(1){animation-delay:.06s}.form-row[_ngcontent-%COMP%]:nth-of-type(2){animation-delay:.1s}.form-row[_ngcontent-%COMP%]:nth-of-type(3){animation-delay:.14s}label[_ngcontent-%COMP%]{color:var(--muted);font-weight:600}input[_ngcontent-%COMP%]{width:100%;height:42px;padding:0 .85rem;color:var(--text);background:var(--bg-elev);border:1px solid var(--border);border-radius:10px;outline:none;transition:border-color .18s ease,box-shadow .18s ease,background-color .18s ease}input[_ngcontent-%COMP%]::placeholder{color:#7a8390}input[_ngcontent-%COMP%]:focus{border-color:var(--accent);box-shadow:0 0 0 3px #58a6ff2e}.input-error[_ngcontent-%COMP%]{border-color:#f85149!important;box-shadow:0 0 0 3px #f8514926!important;animation:_ngcontent-%COMP%_fieldErrorPop .16s ease-out,_ngcontent-%COMP%_fieldErrorPulse .9s ease-out .12s 1}input.input-error[_ngcontent-%COMP%]:focus{border-color:#f85149!important;box-shadow:0 0 0 3px #f851492e!important}.error[_ngcontent-%COMP%]{margin:0;color:#f85149;font-weight:600;font-size:.9rem;opacity:0;transform:translateY(-4px);animation:_ngcontent-%COMP%_errorIn .18s ease-out forwards}.auth-card[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;height:44px;margin-top:.5rem;border-radius:10px;font-weight:600;letter-spacing:.2px;border:1px solid var(--accent-2, #467ecf);background:linear-gradient(180deg,var(--accent, #58a6ff),var(--accent-2, #467ecf));color:#0b1220;box-shadow:0 6px 16px #58a6ff40;transition:transform .06s ease,filter .15s ease;cursor:pointer;opacity:0;transform:translateY(8px);animation:_ngcontent-%COMP%_fieldIn .42s ease-out .18s both}.auth-card[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{filter:brightness(1.06)}.auth-card[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:active{transform:translateY(1px)}.auth-card[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #58a6ff59}.auth-card[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{background:#1b2430;border-color:#41536a;color:#cdd9e5;opacity:1;box-shadow:inset 0 1px #ffffff08,0 0 #0000;cursor:not-allowed;filter:none}@keyframes _ngcontent-%COMP%_pageIn{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_cardIn{0%{opacity:0;transform:translateY(8px) scale(.99);filter:saturate(.95)}to{opacity:1;transform:translateY(0) scale(1);filter:saturate(1)}}@keyframes _ngcontent-%COMP%_titleUp{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fieldIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fieldErrorPop{0%{transform:scale(1.005)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_fieldErrorPulse{0%{box-shadow:0 0 #f8514942}to{box-shadow:0 0 0 10px #f8514900}}@keyframes _ngcontent-%COMP%_errorIn{to{opacity:1;transform:translateY(0)}}@media (prefers-reduced-motion: reduce){[_nghost-%COMP%], .auth-card[_ngcontent-%COMP%], .auth-title[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%], .auth-card[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%], .input-error[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{animation:none!important;transform:none!important;opacity:1!important}}']})};export{S as Login};
